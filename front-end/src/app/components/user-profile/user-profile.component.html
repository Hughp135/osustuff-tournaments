<div class="ui container section">
  <h1>{{ user.username }}'s Profile</h1>

  <h2>Stats</h2>

  <div class="ui inverted segment">
    <div class="ui equal width center aligned grid">
      <div class="column">
        <h5 class="ui inverted header">View osu! profile</h5>
        <a
          class="ui pink basic button"
          target="_blank"
          [href]="'https://osu.ppy.sh/users/' + user.osuUserId"
        >
          osu! Profile
        </a>
      </div>

      <div class="column">
        <h5 class="ui inverted header">Games Played</h5>
        <h3>
          <i class="large green play icon"></i>
          {{ user.gamesPlayed }}
        </h3>
      </div>

      <div class="column">
        <h5 class="ui inverted header">Games Won</h5>
        <h3>
          <i class="large yellow trophy icon"></i>
          {{ user.wins }}
        </h3>
      </div>

      <div class="column">
        <h5 class="ui inverted header">Rating</h5>
        <h3>
          <i class="large teal crosshairs icon"></i>
          {{ (user.rating.mu - 3 * user.rating.sigma).toFixed(0) }}
        </h3>
      </div>
    </div>
  </div>

  <h2>Achievements</h2>

  <div class="ui four column doubling grid">
    <div class="column" *ngFor="let achievement of user.achievements">
      <div class="ui center aligned inverted segment achievement">
        <div>
          <i class="big icon" [ngClass]="achievement.icon"></i>
        </div>
        <h3 class="ui sub header">
          {{ achievement.title }}
        </h3>
        {{ achievement.description }}
      </div>
    </div>
  </div>

  <h2>Match history</h2>

  <div class="ui one column doubling grid">
    <div
      class="column result"
      *ngFor="let result of user.results"
      routerLink="/lobbies/{{ result.gameId }}"
    >
      <div class="ui inverted segment flex">
        <i
          class="icon"
          [ngClass]="{
            'green play': result.place !== 1,
            'yellow trophy': result.place === 1
          }"
        ></i>

        <div class="result-main">
          <h3 class="ui sub header">Finished {{ result.place | ordinal }}</h3>
          {{ result.gameEndedAtFromNow }}
        </div>

        <span class="elo">{{ formatEloGained(result.ratingChange) }}</span>
      </div>
    </div>
  </div>
</div>
